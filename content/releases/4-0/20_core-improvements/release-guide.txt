Title: Core Improvements

----

Subtitle:

----

Category: other

----

Intro:

----

Text:

## Dialogs for fields

Fields can now define their own dialogs on the backend. [#96](https://github.com/getkirby/v4/pull/96)

### Fields with array definition

```php
return [
  'props' => [
    // ...
  ],
  'dialogs' => function () {
    return [
      [
        'pattern' => 'delete',
        'load' => function () {},
        'submit' => function () {},
      ]
    ];
  }
];
```

### Field Classes

```php
class MyField extends FieldClass
{
  public function dialogs(): array
  {
    return [
      [
        'pattern' => 'delete',
        'load' => function () {},
        'submit' => function () {},
      ]
    ];
  }
}
```

The route patterns for field dialogs are automatically prefixed with the following scheme:

```php
dialogs/$modelPath/fields/$fieldName/$pattern
```

Here's an example:

```php
dialogs/pages/blog/fields/blocks/delete
```

In a field component, the dialog can be opened by using the field endpoint:

```js
this.$dialog(this.endpoints.field + "/delete")
```

## Additional new core features…

- New `File::blueprints()` method that collects valid blueprints from the files sections and files fields of the parent model [#44](https://github.com/getkirby/v4/pull/44)
- Fields can now define `'hidden' => true` (component notation) or `::isHidden(): bool` (class-based) to make them non-rendering [https://kirby.nolt.io/237](https://kirby.nolt.io/237) [#91](https://github.com/getkirby/v4/pull/91)
- New `File::changeTemplate()` method
- New file permissions for `changeTemplate`
- New `file.changeTemplate` hooks
