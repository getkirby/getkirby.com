const reference=document.querySelector(".cheatsheet"),buttons=()=>{document.querySelectorAll(".cheatsheet-panel-header button").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-show");reference.setAttribute("data-show",t)})})},load=async e=>{reference.classList.add("is-loading");const t=await fetch(e.href+"?plain=true"),r=await t.text();document.querySelector(".cheatsheet-article").innerHTML=r,document.querySelector(".cheatsheet-entries a[aria-current]").removeAttribute("aria-current"),e.setAttribute("aria-current","page"),reference.classList.remove("is-loading"),reference.removeAttribute("data-show");const c=e.getAttribute("data-title");document.title=c+" | Kirby",buttons()};window.addEventListener("popstate",e=>{if(e.state&&e.state.slug){const t=document.querySelector("a[data-slug='"+e.state.slug+"']");t&&load(t)}}),document.querySelectorAll(".cheatsheet-entries a").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),load(e),history.pushState({link:e.href,slug:e.getAttribute("data-slug")},"",e.href)},!0)}),buttons();const currentSections=document.querySelector(".cheatsheet-panel-scrollarea"),currentSection=document.querySelector(".cheatsheet-sections a[aria-current]"),currentEntry=document.querySelector(".cheatsheet-entries a[aria-current]");function setScroll(){localStorage.setItem("getkirby$reference$scroll",currentSections.scrollTop)}function unsetScroll(){localStorage.removeItem("getkirby$reference$scroll")}if(currentSections){const e=localStorage.getItem("getkirby$reference$scroll");if(e)currentSections.scroll(0,e),unsetScroll();else if(currentSection&&currentSections.scrollIntoView){const e=currentSection.parentNode.parentNode.parentNode;if(e.scrollIntoView){const t=currentSection.getBoundingClientRect(),r=currentSections.getBoundingClientRect();e.scrollIntoView(t.top<r.top)}}setScroll(),currentSections.addEventListener("click",setScroll)}currentEntry&&currentEntry.scrollIntoView&&currentEntry.scrollIntoView();