const ALGOLIA_APP="S7OGBIAJTV",ALGOLIA_KEY="d161a2f4cd2d69247c529a3371ad3050",ALGOLIA_INDEX="getkirby-3",VIEW_ALL_RESULTS_LABEL="VIEW_ALL_RESULTS_UXfpeDFlmye9rXkXP5wd",SEARCH_ERROR_LABEL="SEARCH_ERROR_UXfpeDFlmye9rXkXP5wd",CHEVRON_RIGHT_SVG='<svg viewBox="0 0 5 11" width="5" height="11" aria-hidden="true"><path d="M2.96153846,5.41538462 L0,9.13846154 L1.35384615,10.1538462 L4.73846154,5.92307692 C4.82307692,5.75384615 4.90769231,5.58461538 4.90769231,5.41538462 C4.90769231,5.24615385 4.82307692,5.07692308 4.73846154,4.90769231 L1.35384615,0.676923077 L0,1.69230769 L2.96153846,5.41538462 Z"/></svg>';document.addEventListener("DOMContentLoaded",async function(){const e=document.querySelector(".js-menu-search");if(!e)return;await import("../libraries/algoliasearch.js"),await import("../libraries/awesomplete.js");const t=document.querySelector(".js-menu-search-input"),s=algoliasearch(ALGOLIA_APP,ALGOLIA_KEY).initIndex("getkirby-3");let n="",r=[];const a=new Awesomplete(t,{list:[],filter:()=>!0,sort:!1,item:e=>{const t=document.createElement("li");return e.label===VIEW_ALL_RESULTS_LABEL?(t.classList.add("menu-search-view-all"),t.innerHTML=`<strong>View all results</strong>${CHEVRON_RIGHT_SVG}`):e.label===SEARCH_ERROR_LABEL?(t.classList.add("menu-search-error"),t.innerHTML=`<strong>Sorry, an error occured. Please try advanced search instead.</strong>${CHEVRON_RIGHT_SVG}`):t.innerHTML=`<strong>${e.label}</strong> <small>${e.value}</small>`,t}});t.addEventListener("focus",()=>{document.documentElement.classList.add("is-menu-search-open")}),t.addEventListener("blur",()=>{document.documentElement.classList.remove("is-menu-search-open")}),t.addEventListener("keypress",t=>{(t.key&&"Enter"===t.key||13===t.keyCode)&&e.submit()}),t.addEventListener("keyup",()=>{const e=t.value.trim();return e===n||(""===e?(n="",r=[],a.list=r,a.evaluate(),!0):(n=e,e.length<=2||void setTimeout(function(){const n={hitsPerPage:5},l=t.getAttribute("data-filters");l&&(n.filters=l),s.search(e,n,(e,t)=>{if(r=[],e)return"console"in window&&console.error("Quicksearch error",e),r.push({label:SEARCH_ERROR_LABEL,value:0}),a.list=r,a.evaluate(),void a.open();for(var s=0,n=t.hits.length;s<n;s++){const e=t.hits[s];r.push({label:e.title,value:e.objectID})}t.nbHits>0&&t.nbHits>t.hitsPerPage&&r.push({label:VIEW_ALL_RESULTS_LABEL,value:t.nbHits}),a.list=r,a.evaluate(),a.open()})})))},250),t.addEventListener("awesomplete-select",t=>{t.preventDefault(),t.text.label===VIEW_ALL_RESULTS_LABEL||t.text.label===SEARCH_ERROR_LABEL?e.submit():window.location.href=`/${t.text.value}`})});